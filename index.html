<!DOCTYPE html>
<html>
<head>
    <title>420 Cave HQ üåø</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&family=Smooch+Sans:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- LED Strip Effect -->
    <div class="led-strip top"></div>
    <div class="led-strip bottom"></div>
    <div class="led-strip left"></div>
    <div class="led-strip right"></div>

    <!-- Smoke Animation -->
    <div class="smoke-container">
        <div class="smoke"></div>
    </div>

    <!-- Audio Player -->
    <audio id="backgroundMusic" loop>
        <source src="https://example.com/your-music.mp3" type="audio/mp3">
    </audio>

    <div class="content">
        <!-- Header Section -->
        <header class="cave-header">
            <div class="neon-sign">
                <span class="flicker-slow">4</span>
                <span class="flicker-fast">2</span>
                <span>0</span>
                <span class="flicker-slow">C</span>
                <span class="flicker-fast">A</span>
                <span>V</span>
                <span class="flicker-slow">E</span>
            </div>
            <p class="neon-subtitle">Blaze ‚Ä¢ Game ‚Ä¢ Repeat</p>
        </header>

        <div class="cave-grid">
            <!-- Left Wall -->
            <div class="wall left-wall">
                <!-- Mood Meter -->
                <div class="brick-panel">
                    <h2>VIBE CHECK</h2>
                    <div class="lava-lamp">
                        <div class="blaze-meter">
                            <div class="blaze-level" id="blaze-level"></div>
                        </div>
                    </div>
                    <button class="wood-button" id="blaze-button">
                        Spark Up üî•
                    </button>
                </div>

                <!-- Music Corner -->
                <div class="brick-panel">
                    <h2>SOUND SYSTEM</h2>
                    <div class="retro-player">
                        <button class="wood-button" id="playMusic">
                            <span class="vinyl-record">üíø</span> Play
                        </button>
                        <div class="eq-visualizer">
                            <div class="eq-bar"></div>
                            <div class="eq-bar"></div>
                            <div class="eq-bar"></div>
                            <div class="eq-bar"></div>
                        </div>
                        <input type="range" id="volumeControl" class="wooden-slider" min="0" max="100" value="50">
                        <select id="playlistSelect" class="wood-select">
                            <option value="chill">Chill Hop</option>
                            <option value="reggae">Reggae Vibes</option>
                            <option value="lofi">Lo-Fi Beats</option>
                            <option value="classic">Classic Rock</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Center Area -->
            <div class="center-area">
                <!-- Gaming Zone -->
                <div class="gaming-zone">
                    <h2>SQUAD STATUS</h2>
                    <div class="tv-screen">
                        <div class="champions-grid">
                            <div class="champ-card">
                                <div class="smoke-effect"></div>
                                <div class="champion-icon">üó°Ô∏è</div>
                                <h3>Yasuo</h3>
                                <p>0/10 Powerspike</p>
                            </div>
                            <div class="champ-card">
                                <div class="smoke-effect"></div>
                                <div class="champion-icon">üçÑ</div>
                                <h3>Teemo</h3>
                                <p>Shroom Lord</p>
                            </div>
                            <div class="champ-card">
                                <div class="smoke-effect"></div>
                                <div class="champion-icon">üåü</div>
                                <h3>Lux</h3>
                                <p>Rainbow Vibes</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Session Log -->
                <div class="session-screen">
                    <div class="screen-overlay"></div>
                    <div class="session-log" id="session-log">
                        <div>[CAVE] Welcome to the 420 Cave... üåø</div>
                    </div>
                </div>
            </div>

            <!-- Right Wall -->
            <div class="wall right-wall">
                <!-- Dip Counter -->
                <div class="brick-panel">
                    <h2>DIP COUNTER</h2>
                    <div class="rolling-tray">
                        <input type="text" id="dipInput" class="parchment-input" placeholder="Who's up?" maxlength="20">
                        <button class="wood-button" id="dipButton">
                            Pack Bowl üåø
                        </button>
                    </div>
                    <div class="scroll-panel" id="dip-stats">
                        <!-- Dip stats will appear here -->
                    </div>
                </div>

                <!-- Feeder Board -->
                <div class="brick-panel">
                    <h2>HALL OF SHAME</h2>
                    <div class="wanted-poster">
                        <input type="text" id="feederInput" class="parchment-input" placeholder="Name the feeder..." maxlength="20">
                        <button class="wood-button" id="feedButton">
                            Post Bounty üíÄ
                        </button>
                        <div class="scroll-panel" id="feed-stats">
                            <!-- Feeder stats will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Easter Egg Items (randomly placed) -->
        <div class="easter-eggs">
            <div class="bong hidden">üåø</div>
            <div class="pizza-box hidden">üçï</div>
            <div class="game-controller hidden">üéÆ</div>
        </div>
    </div>
</body>
</html>
<style> 

    /* Base Styles */
:root {
    --brick-red: #8b4513;
    --wood-brown: #5c4033;
    --smoke-gray: rgba(128, 128, 128, 0.8);
    --led-purple: #9d4edd;
    --neon-green: #39ff14;
    --lava-orange: #ff4e00;
    --parchment: #ffe5b4;
    --screen-glow: 0 0 10px rgba(57, 255, 20, 0.5);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Smooch Sans', sans-serif;
    background: #1a1a1a;
    color: var(--parchment);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
}

/* LED Strip Effects */
.led-strip {
    position: fixed;
    background: linear-gradient(90deg, 
        transparent 0%,
        var(--led-purple) 50%,
        transparent 100%);
    opacity: 0.6;
    z-index: 1;
}

.led-strip.top, .led-strip.bottom {
    height: 2px;
    width: 100%;
    animation: ledPulse 3s infinite;
}

.led-strip.left, .led-strip.right {
    width: 2px;
    height: 100%;
    animation: ledPulse 3s infinite reverse;
}

.led-strip.top { top: 0; }
.led-strip.bottom { bottom: 0; }
.led-strip.left { left: 0; }
.led-strip.right { right: 0; }

@keyframes ledPulse {
    0% { opacity: 0.3; }
    50% { opacity: 0.8; }
    100% { opacity: 0.3; }
}

/* Smoke Animation */
.smoke-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
}

.smoke {
    position: absolute;
    width: 100%;
    height: 100%;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.005' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.3'/%3E%3C/svg%3E");
    opacity: 0.1;
    animation: smoke 20s linear infinite;
}

@keyframes smoke {
    0% { transform: translateY(0) scale(1); }
    100% { transform: translateY(-50%) scale(1.5); }
}

/* Main Layout */
.content {
    position: relative;
    z-index: 3;
    padding: 20px;
    min-height: 100vh;
}

.cave-grid {
    display: grid;
    grid-template-columns: 300px 1fr 300px;
    gap: 20px;
    max-width: 1800px;
    margin: 0 auto;
    padding-top: 20px;
}

/* Cave Header */
.cave-header {
    text-align: center;
    padding: 40px 0;
    margin-bottom: 20px;
}

.neon-sign {
    font-family: 'Permanent Marker', cursive;
    font-size: 5rem;
    color: var(--neon-green);
    text-shadow: 0 0 10px var(--neon-green),
                 0 0 20px var(--neon-green),
                 0 0 30px var(--neon-green);
    margin-bottom: 10px;
}

.neon-sign span {
    display: inline-block;
    animation: neonFlicker 2s infinite;
}

.flicker-slow { animation: neonFlicker 3s infinite; }
.flicker-fast { animation: neonFlicker 1s infinite; }

@keyframes neonFlicker {
    0%, 19.999%, 22%, 62.999%, 64%, 64.999%, 70%, 100% {
        opacity: 1;
    }
    20%, 21.999%, 63%, 63.999%, 65%, 69.999% {
        opacity: 0.4;
    }
}

/* Wall Panels */
.wall {
    background: var(--brick-red);
    border-radius: 15px;
    padding: 20px;
    box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.5);
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.brick-panel {
    background: var(--wood-brown);
    border-radius: 10px;
    padding: 15px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.brick-panel h2 {
    font-family: 'Permanent Marker', cursive;
    color: var(--parchment);
    text-align: center;
    margin-bottom: 15px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* Lava Lamp Effect */
.lava-lamp {
    background: linear-gradient(45deg, #000, #1a1a1a);
    border-radius: 10px;
    padding: 15px;
    position: relative;
    overflow: hidden;
}

.blaze-meter {
    height: 150px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 75px;
    overflow: hidden;
    position: relative;
}

.blaze-level {
    position: absolute;
    bottom: 0;
    width: 100%;
    background: linear-gradient(180deg,
        var(--lava-orange) 0%,
        var(--neon-green) 100%);
    transition: height 0.5s ease;
    border-radius: 75px;
}

.blaze-level::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='noise' x='0' y='0'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.015' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.5'/%3E%3C/svg%3E");
    animation: lavaMove 10s linear infinite;
}

@keyframes lavaMove {
    0% { transform: translateY(0); }
    100% { transform: translateY(-100%); }
}
/* Buttons and Inputs */
.wood-button {
    background: var(--wood-brown);
    border: 2px solid var(--parchment);
    color: var(--parchment);
    padding: 10px 20px;
    border-radius: 25px;
    font-family: 'Permanent Marker', cursive;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

.wood-button:hover {
    background: var(--parchment);
    color: var(--wood-brown);
    transform: translateY(-2px);
}

.parchment-input {
    background: var(--parchment);
    border: none;
    padding: 10px 15px;
    border-radius: 20px;
    font-family: 'Smooch Sans', sans-serif;
    font-size: 1.1rem;
    color: var(--wood-brown);
    width: 100%;
    margin-bottom: 10px;
}

/* Gaming Zone */
.gaming-zone {
    background: #000;
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 0 20px rgba(57, 255, 20, 0.2);
}

.tv-screen {
    background: #111;
    border-radius: 10px;
    padding: 20px;
    position: relative;
    overflow: hidden;
}

.tv-screen::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        transparent 50%,
        rgba(0, 0, 0, 0.025) 50%
    );
    background-size: 100% 4px;
    animation: scanline 10s linear infinite;
}

@keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(100%); }
}

.champions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
}

.champ-card {
    background: rgba(57, 255, 20, 0.1);
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.champ-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--screen-glow);
}

/* Session Screen */
.session-screen {
    background: #000;
    border-radius: 20px;
    padding: 20px;
    position: relative;
    height: 300px;
    overflow: hidden;
}

.screen-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        transparent 50%,
        rgba(57, 255, 20, 0.03) 50%
    );
    background-size: 100% 4px;
    pointer-events: none;
}

.session-log {
    height: 100%;
    overflow-y: auto;
    color: var(--neon-green);
    font-family: monospace;
    padding: 10px;
}

.session-log div {
    margin-bottom: 8px;
    text-shadow: 0 0 5px var(--neon-green);
}

/* Sound System */
.retro-player {
    background: #000;
    border-radius: 15px;
    padding: 15px;
    text-align: center;
}

.vinyl-record {
    display: inline-block;
    animation: spin 2s linear infinite;
}

@keyframes spin {
    100% { transform: rotate(360deg); }
}

.eq-visualizer {
    display: flex;
    justify-content: center;
    gap: 5px;
    margin: 15px 0;
    height: 50px;
}

.eq-bar {
    width: 10px;
    background: var(--neon-green);
    border-radius: 5px;
    animation: equalize 1s ease-in-out infinite;
}

.eq-bar:nth-child(1) { animation-delay: 0.0s; }
.eq-bar:nth-child(2) { animation-delay: 0.2s; }
.eq-bar:nth-child(3) { animation-delay: 0.4s; }
.eq-bar:nth-child(4) { animation-delay: 0.6s; }

@keyframes equalize {
    0%, 100% { height: 10px; }
    50% { height: 40px; }
}

/* Easter Eggs */
.easter-eggs div {
    position: fixed;
    font-size: 2rem;
    transition: all 0.3s ease;
    cursor: pointer;
    opacity: 0;
    transform: scale(0);
}

.easter-eggs div.visible {
    opacity: 1;
    transform: scale(1);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .cave-grid {
        grid-template-columns: 250px 1fr 250px;
    }
}

@media (max-width: 900px) {
    .cave-grid {
        grid-template-columns: 1fr;
    }
    
    .wall {
        height: auto;
    }
}

@media (max-width: 480px) {
    .neon-sign {
        font-size: 3rem;
    }
    
    .brick-panel {
        padding: 10px;
    }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: var(--wood-brown);
    border-radius: 5px;
    border: 2px solid var(--parchment);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--brick-red);
}
</style>
<script>
    class CaveSystem {
    constructor() {
        // Core state
        this.blazeLevel = 0;
        this.musicPlaying = false;
        this.activeEffects = new Set();
        this.easterEggs = new Map();
        this.sessionData = {
            dips: this.loadFromStorage('dips') || {},
            feeders: this.loadFromStorage('feeders') || {},
            achievements: this.loadFromStorage('achievements') || [],
            vibeScore: this.loadFromStorage('vibeScore') || 420,
        };

        // Audio contexts
        this.audioCtx = null;
        this.gainNode = null;
        this.analyser = null;
        
        // Initialize systems
        this.initializeCore();
        this.initializeAudio();
        this.initializeEffects();
        this.initializeEasterEggs();
        this.setupEventListeners();
    }

    // Core Initialization
    initializeCore() {
        // Smoke effect intensity control
        this.smokeIntensity = 0.1;
        document.querySelector('.smoke').style.opacity = this.smokeIntensity;

        // LED animation synchronization
        document.querySelectorAll('.led-strip').forEach(strip => {
            strip.style.animationDelay = `${Math.random() * 2}s`;
        });

        // Initialize session log
        this.logEvent('Welcome to the 420 Cave... Blazing since 4:20 üåø');
    }

    // Audio System
    initializeAudio() {
        // Playlist definitions
        this.playlists = {
            chill: {
                name: 'Chill Hop',
                bpm: 80,
                visualizerSpeed: 1.2
            },
            reggae: {
                name: 'Reggae Vibes',
                bpm: 90,
                visualizerSpeed: 1
            },
            lofi: {
                name: 'Lo-Fi Beats',
                bpm: 85,
                visualizerSpeed: 0.8
            },
            classic: {
                name: 'Classic Rock',
                bpm: 120,
                visualizerSpeed: 1.5
            }
        };

        // Initialize audio context on first user interaction
        document.getElementById('playMusic').addEventListener('click', () => {
            if (!this.audioCtx) {
                this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                this.setupAudioNodes();
            }
            this.toggleMusic();
        });
    }

    setupAudioNodes() {
        this.gainNode = this.audioCtx.createGain();
        this.analyser = this.audioCtx.createAnalyser();
        this.analyser.fftSize = 256;
        
        // Connect nodes
        this.gainNode.connect(this.analyser);
        this.analyser.connect(this.audioCtx.destination);
        
        // Start visualizer
        this.updateVisualizer();
    }

    updateVisualizer() {
        if (!this.analyser) return;
        
        const bufferLength = this.analyser.frequencyBinCount;
        const dataArray = new Uint8Array(bufferLength);
        const bars = document.querySelectorAll('.eq-bar');
        
        const updateBars = () => {
            this.analyser.getByteFrequencyData(dataArray);
            
            bars.forEach((bar, index) => {
                const barIndex = Math.floor(index * (bufferLength / bars.length));
                const barHeight = (dataArray[barIndex] / 255) * 50;
                bar.style.height = `${barHeight}px`;
            });

            if (this.musicPlaying) {
                requestAnimationFrame(updateBars);
            }
        };

        updateBars();
    }

    // Visual Effects System
    initializeEffects() {
        // Lava lamp effect
        this.lavaEffect = {
            active: false,
            intensity: 0,
            update: () => {
                if (this.lavaEffect.active) {
                    this.lavaEffect.intensity = Math.min(1, this.lavaEffect.intensity + 0.05);
                    document.querySelector('.blaze-level').style.filter = 
                        `brightness(${1 + this.lavaEffect.intensity})
                         contrast(${1 + this.lavaEffect.intensity * 0.5})`;
                    requestAnimationFrame(this.lavaEffect.update);
                }
            }
        };

        // TV screen effect
        this.scanlineEffect = {
            element: document.querySelector('.tv-screen'),
            glitchInterval: null,
            triggerGlitch: () => {
                if (Math.random() < 0.3) { // 30% chance of glitch
                    this.scanlineEffect.element.style.transform = `translateX(${Math.random() * 10 - 5}px)`;
                    setTimeout(() => {
                        this.scanlineEffect.element.style.transform = 'none';
                    }, 50);
                }
            }
        };

        // Start scanline glitch effect
        this.scanlineEffect.glitchInterval = setInterval(this.scanlineEffect.triggerGlitch, 5000);
    }

    // Easter Eggs System
    initializeEasterEggs() {
        const eggPositions = [
            { x: '10%', y: '20%' },
            { x: '85%', y: '15%' },
            { x: '45%', y: '75%' },
            { x: '75%', y: '60%' },
            { x: '15%', y: '85%' }
        ];

        document.querySelectorAll('.easter-eggs div').forEach((egg, index) => {
            egg.style.left = eggPositions[index % eggPositions.length].x;
            egg.style.top = eggPositions[index % eggPositions.length].y;
            
            egg.addEventListener('click', () => this.triggerEasterEgg(egg));
        });

        // Konami code implementation
        let keys = [];
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 
                           'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        
        document.addEventListener('keydown', (e) => {
            keys.push(e.key);
            keys = keys.slice(-10);
            if (keys.join(',') === konamiCode.join(',')) {
                this.triggerKonamiCode();
            }
        });
    }}
    class LeagueIntegration {
    constructor() {
        // Replace with your Riot Games API key
        this.API_KEY = 'RGAPI-dfcdf921-f821-42f8-8019-0ea05b7ce77d';
        this.REGIONS = {
            NA: 'na1',
            EUW: 'euw1',
            EUNE: 'eun1',
            KR: 'kr',
            BR: 'br1',
            JP: 'jp1',
            RU: 'ru',
            OCE: 'oc1',
            TR: 'tr1',
            LAN: 'la1',
            LAS: 'la2'
        };
        
        this.currentRegion = 'ME1';
        this.initializeInterface();
    }

    async getSummonerData(summonerName) {
        try {
            const response = await fetch(
                `https://${this.currentRegion}.api.riotgames.com/lol/summoner/v4/summoners/by-name/${encodeURIComponent(summonerName)}`,
                {
                    headers: {
                        'X-Riot-Token': this.API_KEY
                    }
                }
            );

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            return await response.json();
        } catch (error) {
            console.error('Error fetching summoner data:', error);
            throw error;
        }
    }

    async getCurrentGame(summonerId) {
        try {
            const response = await fetch(
                `https://${this.currentRegion}.api.riotgames.com/lol/spectator/v4/active-games/by-summoner/${summonerId}`,
                {
                    headers: {
                        'X-Riot-Token': this.API_KEY
                    }
                }
            );

            if (response.status === 404) {
                return null; // Summoner not in game
            }

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            return await response.json();
        } catch (error) {
            console.error('Error fetching current game:', error);
            throw error;
        }
    }

    async getRankedData(summonerId) {
        try {
            const response = await fetch(
                `https://${this.currentRegion}.api.riotgames.com/lol/league/v4/entries/by-summoner/${summonerId}`,
                {
                    headers: {
                        'X-Riot-Token': this.API_KEY
                    }
                }
            );

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            return await response.json();
        } catch (error) {
            console.error('Error fetching ranked data:', error);
            throw error;
        }
    }

    initializeInterface() {
        // Create HTML elements for the interface
        const lolInterface = document.createElement('div');
        lolInterface.className = 'card';
        lolInterface.innerHTML = `
            <h2>LEAGUE STATUS</h2>
            <div class="lol-interface">
                <div class="search-container">
                    <select id="regionSelect" class="wood-button">
                        ${Object.entries(this.REGIONS).map(([key, value]) => 
                            `<option value="${value}">${key}</option>`
                        ).join('')}
                    </select>
                    <input type="text" id="summonerInput" class="parchment-input" 
                           placeholder="Enter Summoner Name">
                    <button id="searchSummoner" class="wood-button">
                        Check Status üéÆ
                    </button>
                </div>
                <div id="summonerStatus" class="summoner-status"></div>
            </div>
        `;

        // Insert the interface into the document
        document.querySelector('.main-content').appendChild(lolInterface);

        // Add event listeners
        document.getElementById('regionSelect').addEventListener('change', (e) => {
            this.currentRegion = e.target.value;
        });

        document.getElementById('searchSummoner').addEventListener('click', () => {
            const summonerName = document.getElementById('summonerInput').value.trim();
            if (summonerName) {
                this.checkSummonerStatus(summonerName);
            }
        });

        // Add status update interval
        setInterval(() => {
            const summonerName = document.getElementById('summonerInput').value.trim();
            if (summonerName && document.getElementById('summonerStatus').innerHTML) {
                this.checkSummonerStatus(summonerName);
            }
        }, 60000); // Update every minute
    }

    async checkSummonerStatus(summonerName) {
        const statusElement = document.getElementById('summonerStatus');
        statusElement.innerHTML = `<div class="loading">Checking status... üîç</div>`;

        try {
            const summonerData = await this.getSummonerData(summonerName);
            const [currentGame, rankedData] = await Promise.all([
                this.getCurrentGame(summonerData.id),
                this.getRankedData(summonerData.id)
            ]);

            this.updateStatusDisplay(summonerData, currentGame, rankedData);
        } catch (error) {
            statusElement.innerHTML = `
                <div class="error">
                    Error finding summoner. Check the name and region. üö´
                </div>
            `;
        }
    }

    updateStatusDisplay(summonerData, currentGame, rankedData) {
        const statusElement = document.getElementById('summonerStatus');
        const soloQueue = rankedData.find(queue => queue.queueType === 'RANKED_SOLO_5x5');

        let html = `
            <div class="summoner-info">
                <div class="summoner-header">
                    <h3>${summonerData.name}</h3>
                    <span>Level ${summonerData.summonerLevel}</span>
                </div>
                ${soloQueue ? `
                    <div class="rank-info">
                        <span>${soloQueue.tier} ${soloQueue.rank}</span>
                        <span>${soloQueue.leaguePoints} LP</span>
                        <div class="win-loss">
                            <span class="wins">W: ${soloQueue.wins}</span>
                            <span class="losses">L: ${soloQueue.losses}</span>
                        </div>
                    </div>
                ` : '<div class="unranked">Unranked</div>'}
            </div>
        `;

        if (currentGame) {
            const gameMode = this.getGameModeName(currentGame.gameMode);
            const gameDuration = Math.floor(currentGame.gameLength / 60);
            const playerData = currentGame.participants.find(p => p.summonerId === summonerData.id);

            html += `
                <div class="current-game">
                    <div class="game-header">
                        <span class="game-mode">${gameMode}</span>
                        <span class="game-time">${gameDuration}min</span>
                    </div>
                    <div class="champion-info">
                        <span>Playing: ${this.getChampionName(playerData.championId)}</span>
                    </div>
                    <div class="team-info">
                        ${this.generateTeamDisplay(currentGame.participants)}
                    </div>
                </div>
            `;
        } else {
            html += `
                <div class="not-in-game">
                    Not currently in game üéÆ
                </div>
            `;
        }

        statusElement.innerHTML = html;
    }

    getGameModeName(mode) {
        const modes = {
            CLASSIC: 'Summoner\'s Rift',
            ARAM: 'ARAM',
            URF: 'URF',
            PRACTICETOOL: 'Practice Tool'
        };
        return modes[mode] || mode;
    }

    generateTeamDisplay(participants) {
        const teams = {
            100: [], // Blue team
            200: []  // Red team
        };

        participants.forEach(p => teams[p.teamId].push(p));

        return `
            <div class="teams">
                <div class="team blue">
                    ${teams[100].map(p => `
                        <div class="player">
                            <span>${this.getChampionName(p.championId)}</span>
                        </div>
                    `).join('')}
                </div>
                <div class="team red">
                    ${teams[200].map(p => `
                        <div class="player">
                            <span>${this.getChampionName(p.championId)}</span>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }

    // This would normally fetch from champion.json or a champion database
    getChampionName(championId) {
        // This is a placeholder. You would need to implement a proper champion mapping
        return `Champion ${championId}`;
    }
}

// Add this to your existing CSS
const styles = `
    .lol-interface {
        padding: 15px;
    }

    .search-container {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
    }

    .summoner-status {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 15px;
    }

    .loading {
        text-align: center;
        padding: 20px;
        color: var(--neon-green);
    }

    .error {
        color: #ff4444;
        text-align: center;
        padding: 10px;
    }

    .summoner-info {
        margin-bottom: 15px;
    }

    .summoner-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }

    .rank-info {
        display: flex;
        gap: 15px;
        align-items: center;
    }

    .win-loss {
        display: flex;
        gap: 10px;
    }

    .wins { color: #44ff44; }
    .losses { color: #ff4444; }

    .current-game {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        padding: 15px;
    }

    .game-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
    }

    .teams {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-top: 10px;
    }

    .team {
        padding: 10px;
        border-radius: 5px;
    }

    .team.blue { background: rgba(0, 0, 255, 0.1); }
    .team.red { background: rgba(255, 0, 0, 0.1); }

    .player {
        padding: 5px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
`;

// Add the styles to the document
const styleSheet = document.createElement('style');
styleSheet.textContent = styles;
document.head.appendChild(styleSheet);

// Initialize the League integration when the page loads
document.addEventListener('DOMContentLoaded', () => {
    window.leagueIntegration = new LeagueIntegration();
});
</script>
    